
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Technical documentation for the LUMI software stack">
      
      
      
        <link rel="canonical" href="https://Lumi-supercomputer.github.io/LUMI-SoftwareStack/start_on_LUMI_pilot/">
      
      
        <link rel="prev" href="../whats_new/">
      
      
        <link rel="next" href="../module_setup/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>Installation instructions for the pilot phase - LUMI Software Stack technical documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setting-up-the-stack-on-lumi" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LUMI Software Stack technical documentation" class="md-header__button md-logo" aria-label="LUMI Software Stack technical documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LUMI Software Stack technical documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation instructions for the pilot phase
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Lumi-supercomputer/LUMI-SoftwareStack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LUMI Software Stack technical documentation" class="md-nav__button md-logo" aria-label="LUMI Software Stack technical documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LUMI Software Stack technical documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Lumi-supercomputer/LUMI-SoftwareStack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../whats_new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's new or different?
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installation instructions for the pilot phase
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installation instructions for the pilot phase
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-pre-installed-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Using the pre-installed stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-stack-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the stack from scratch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-additional-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing additional software
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../module_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup of the LUMI module system
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../easybuild_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EasyBuild setup
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CrayPE_integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cray PE integration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../procedures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Some procedures
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../directory_structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation directory structure
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../files_used/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview of files
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../SitePackage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The contents of the SitePackage.lua file
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Toolchain documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Toolchain documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/toolchain_common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EasyBuild toolchains common options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/toolchain_cpe_common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common information to all cpe* toolchains
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/cpeCray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpeCray toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/cpeGNU/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpeGNU toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/cpeAOCC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpeAOCC toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Toolchains/cpeAMD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cpeAMD toolchain
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configurations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configurations on LUMI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation on our EasyBlocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Documentation on our EasyBlocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CrayPEToolchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The CrayPEToolchain EasyBlock
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../failed_experiments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Failed experiments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#using-the-pre-installed-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Using the pre-installed stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-the-stack-from-scratch" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the stack from scratch
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-additional-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing additional software
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="setting-up-the-stack-on-lumi">Setting up the stack on LUMI<a class="headerlink" href="#setting-up-the-stack-on-lumi" title="Permanent link">&para;</a></h1>
<p>There are currently two options to use the LUST LUMI software stacks</p>
<ol>
<li>
<p>There is already one installed in <code>/appl/lumi</code> but not yet activated
    (as of December 14). However, it requires very little to activate.</p>
</li>
<li>
<p>You can still follow the procedure for the initial pilot projects, when
    nothing was installed already. Take a look at the "Installing the stack
    from scratch" section.</p>
</li>
</ol>
<p>Augmenting the stack with software installed in <code>/projappl</code> follows the same
procedure in both cases.</p>
<h2 id="using-the-pre-installed-stack">Using the pre-installed stack<a class="headerlink" href="#using-the-pre-installed-stack" title="Permanent link">&para;</a></h2>
<p>Simply run <code>/appl/lumi/LUMI-SoftwareStack/activate_LMOD_LUMI.sh</code> and it will tell
you what to do. Note that those instructions change over time as the stack is still
in beta and evolves, so if you run into problems it is good to check them again.</p>
<h2 id="installing-the-stack-from-scratch">Installing the stack from scratch<a class="headerlink" href="#installing-the-stack-from-scratch" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Create the directory where you want to install the software stack and move into that directory:</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>LUMI-pilot
<span class="nb">cd</span><span class="w"> </span>LUMI-pilot
</code></pre></div>
<p>If you want to share the installation with everybody in your project, doing so in your
<code>/projappl</code> directory may be a good choice. However, beware as a full installation will
eat into your file quota. Parallel file systems are really meant to work with large files
while a software installation unfortunately can contain many small files.</p>
<p>You can also work in scratch but the problem there is that the installation will be
removed automatically after 90 days.</p>
</li>
<li>
<p>Clone the LUMI-SoftwareStack and LUMI-EasyBuild-contrib repositories:</p>
<p><div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:Lumi-supercomputer/LUMI-SoftwareStack.git
git<span class="w"> </span>clone<span class="w"> </span>git@github.com:Lumi-supercomputer/LUMI-EasyBuild-contrib.git
</code></pre></div>
or
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Lumi-supercomputer/LUMI-SoftwareStack.git
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Lumi-supercomputer/LUMI-EasyBuild-contrib.git
</code></pre></div>
depending on whether you have ssh access to GitHub or not.</p>
<p>git clone  git@github.com:klust/LUMI-SoftwareStack.git</p>
</li>
<li>
<p>Move into the <code>LUMI-SoftwareStack/scripts</code> subdirectory</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>LUMI-SoftwareStack/scripts
</code></pre></div>
</li>
<li>
<p>Now we will first build the raw structure of the software stack:</p>
<div class="highlight"><pre><span></span><code>./prepare_LUMI.sh
</code></pre></div>
</li>
<li>
<p>Since currently CPE 21.05 is installed on LUMI, but we have no intention
    to use it in a LUMI software stack, we run a script to simply make CPE 21.05
    available in the CrayEnv stack of our system.</p>
<div class="highlight"><pre><span></span><code>./prepare_CrayEnv_stack.sh<span class="w"> </span><span class="m">21</span>.05
</code></pre></div>
</li>
<li>
<p>Now is time to prepare the LUMI/21.08 stack for which we used EasyBuild 4.4.1.
    Some work space is also needed but can be erased afterwards. Though not ideal,
    $HOME/work is used in the command as this variable is available to all users.</p>
<div class="highlight"><pre><span></span><code>./prepare_LUMI_stack.sh<span class="w"> </span><span class="m">21</span>.08<span class="w"> </span><span class="m">4</span>.4.2<span class="w"> </span><span class="nv">$HOME</span>/work
</code></pre></div>
<p>This step does take a while though.</p>
</li>
<li>
<p>Now we first need to activate LMOD and point it to the right module subdirectories.
    This is done by a script which is in the LUMI-SoftwareStack subdirectory itself
    (as it is only a temporary solution). The instructions to do this are generated
    by running the <code>activate_LMOD_LUMI.sh</code> script in the LUMI-SoftwareStack
    directory:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>..
./activate_LMOD_LUMI.sh
</code></pre></div>
<p>You can call this script at any time to regenerate the instructions as long as you
call it from within the repository so that it can detect the directory.</p>
<p>Follow the instructions. We suggest that for now you simply copy the 5 lines of
code as indicated in the text.</p>
<p>Now we are ready to begin installing software.</p>
</li>
<li>
<p>Assuming you are still in the <code>LUMI-pilot/LUMI-SoftwareStack</code> directory:
    We'll use some lists of software that are in a subdirectory:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>easybuild/easystacks/LUMI-21.08
</code></pre></div>
</li>
<li>
<p>If you want some elementary build tools etc to be available in the <code>CrayEnv</code>
    environment, which is really just the plain Cray Programming Environment with
    minimal interference from the LUMI software stacks, you can generate those
    using:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>--force<span class="w"> </span>purge
ml<span class="w"> </span>LUMI/21.08<span class="w"> </span>partition/CrayEnv
ml<span class="w"> </span>EasyBuild-CrayEnv
eb<span class="w"> </span>--experimental<span class="w"> </span>--easystack<span class="w">  </span>production-CrayEnv-21.08.yaml
</code></pre></div>
</li>
<li>
<p>The regular software stack consists of multiple parts:</p>
<ul>
<li>
<p>A number of building blocks that are not performance-critical and have been
    installed with the system compilers.</p>
</li>
<li>
<p>Complete lines of software compiled with either <code>PrgEnv-gnu</code>, <code>PrgEnv-cray</code> or <code>PrgEnv-aocc</code>.
    However, in EasyBuild these toolchains are loaded by loading respectively the
    <code>cpeGNU/21.08</code>, <code>cpeCray/21.08</code> or <code>cpeAMD/21.08</code> toolchains.</p>
<p>At the moment of writing, <code>cpeAMD/21.-08</code> does not work as the modules are installed
on the system by Cray but the software is missing.</p>
</li>
</ul>
<p>So this is the moment to consider what you want to use. The common building blocks
are always needed though, though some users may not need the <code>Rust</code> module which
will also be installed with the procedure below. However, if you only intend to
use, e.g., the GNU compilers, it makes no sense to install all <code>cpeCray</code> or
<code>cpeAMD</code> modules.</p>
</li>
<li>
<p>To install the common part of building blocks:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>--force<span class="w"> </span>purge
ml<span class="w"> </span>LUMI/21.08<span class="w"> </span>partition/common
ml<span class="w"> </span>EasyBuild-production
eb<span class="w"> </span>--experimental<span class="w"> </span>--easystack<span class="w">  </span>production-common-21.08.yaml
</code></pre></div>
</li>
<li>
<p>To install the cpeGNU modules:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>--force<span class="w"> </span>purge
ml<span class="w"> </span>LUMI/21.08<span class="w"> </span>partition/L
ml<span class="w"> </span>EasyBuild-production
eb<span class="w"> </span>-r<span class="w"> </span>--experimental<span class="w"> </span>--easystack<span class="w">  </span>production-L-21.08-GNU.yaml
</code></pre></div>
<p>Note the <code>-r</code> argument that was absent before. This is because due to problems with the
so-called EasyStack files (those yaml files) it was not yet possible to specify
all required EasyBuild recipes, and recursive installations are disabled by default.</p>
</li>
<li>
<p>To install the cpeCraymodules:</p>
<div class="highlight"><pre><span></span><code>module<span class="w"> </span>--force<span class="w"> </span>purge
ml<span class="w"> </span>LUMI/21.08<span class="w"> </span>partition/L
ml<span class="w"> </span>EasyBuild-production
eb<span class="w"> </span>-r<span class="w"> </span>--experimental<span class="w"> </span>--easystack<span class="w">  </span>production-L-21.08-Cray.yaml
</code></pre></div>
<p>Note again the <code>-r</code> argument for the very same reasons.</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>LUMI-pilot
<span class="nb">cd</span><span class="w"> </span>LUMI-pilot
git<span class="w"> </span>clone<span class="w">  </span>git@github.com:klust/LUMI-SoftwareStack.git
git<span class="w"> </span>clone<span class="w"> </span>git@github.com:Lumi-supercomputer/LUMI-EasyBuild-contrib.git
<span class="nb">cd</span><span class="w"> </span>LUMI-SoftwareStack/scripts
./prepare_LUMI.sh
./prepare_CrayEnv_stack.sh<span class="w"> </span><span class="m">21</span>.05
./prepare_LUMI_stack.sh<span class="w"> </span><span class="m">21</span>.08<span class="w"> </span><span class="m">4</span>.4.2<span class="w"> </span><span class="nv">$HOME</span>/work
</code></pre></div>
<h2 id="installing-additional-software">Installing additional software<a class="headerlink" href="#installing-additional-software" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>If you installed the full stack in your own project directory, you can actually
    have two locations to install software with EasyBuild</p>
<ul>
<li>
<p>In the main stack (which you will of course not be able to do once we have
    a central installation): Use EasyBuild-production.</p>
</li>
<li>
<p>It is however also possible to have your own personal stack. By default this
    will be build in your home directory, but it might be better to share with
    your colleagues in your project.</p>
<p>To use any other location then the default one, every user of the stack should
ensure that the environment variable <code>EBU_USER_PREFIX</code> points to the directory.
After that, the LUMI software stack will take care of everything and activate
the right modules. However, you now have to use the module EasyBuild-user for
the installation.</p>
</li>
</ul>
</li>
<li>
<p>We recommend to have your own repository in <code>$EBU_USER_PREFIX</code> where you have
    all EasyConfig files that you want to use. The mandatory name of that repository
    directory is <code>UserRepo</code>(as otherwise it is not found by EasyBuild-user), and
    EasyConfig files should be in <code>UserRepo/easybuild/easyconfigs</code>.</p>
<p>For more complete and technical information on our setup, please read the other
pages pointed to in <a href="../">the README document in this docs directory</a>.</p>
</li>
<li>
<p>Note that we cannot support the common EasyBuild toolchains on LUMI in this phase
    as for now we concentrate on the Cray Programming Environment for which we have
    support from HPE-Cray. This does mean that EasyBuild recipes have to be reworked.</p>
</li>
<li>
<p>We're still working on reducing module clutter on the system. For now all basic
    libraries have their own module. Some of those may be hidden in the future as few
    users use them directly. However, even then they can still be found with
    <code>module spider</code> and be loaded.</p>
<p>We have a few special modules on LUMI that bundle a lot of software that is otherwise
in separate modules on a typical EasyBuild installation.</p>
<ul>
<li>
<p><code>buildtools/21.08</code>(and other respective versions for each LUMI/yy.mm stack)
    bundles a number of popular build tools. This is done in a single module to
    have them all available in a single command and to try to use a very consistent
    set of build tools throughout most of our software installation process.</p>
<p>Try <code>module help buildtools/21.08</code> to check what's in it.</p>
</li>
<li>
<p><code>systools/15.1.0</code> contains some useful tools, such as <code>tree</code> and <code>htop</code>.</p>
</li>
<li>
<p><code>syslibs/15.1.0</code> is a hidden module and is really just meant as a build dependency
    for some basic tools that we install.</p>
</li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://www.youtube.com/channel/UCb31KOJ6Wqu0sRpIRi_k8Mw" target="_blank" rel="noopener" title="LUMI on YouTube" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/lumi-supercomputer" target="_blank" rel="noopener" title="LUMI on LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/LUMIhpc" target="_blank" rel="noopener" title="LUMI on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "navigation.indexes", "header.autohide", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>