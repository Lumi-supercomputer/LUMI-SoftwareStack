# GLib

  * [GLib home as part ot the GTK project](https://www.gtk.org/)

  * [GLib downloads](https://download.gnome.org/sources/glib/)


## EasyBuild

  * [GLib in the EasyBuilders repository](https://github.com/easybuilders/easybuild-easyconfigs/tree/develop/easybuild/easyconfigs/g/GLib)

  * [GLib in the CSCS repository](https://github.com/eth-cscs/production/tree/master/easybuild/easyconfigs/g/GLib)


### 2.69.1 for CPE 21.06

  * Started from a mix of the EasyBuilders and University of Antwerpen
    EasyConfig files

  * An additional dependency was needed: libiconv.

  * NOTE 2021-12-06: Replaced PCRE2 dependency with PCRE dependency as it turned out
    that GLib downloaded PCRE during the installation process.


### Version 2.73.0 from CPE 22.06 on

  * Trivial version bump of the 2.69.1 one.


### Version 2.75.0 from CPE 22.12 on

  * Almost trivial version bump of the 2.73.0 one, 
  
      * but switched from PCRE to PCRE2
      
      * and trying the new fix_python_shebang_for option.


### Version 2.77.1 from CPE 23.03 on

  * Trivial version bump of the 2.75.0 one.

  * But it looks like the iconv flag is no longer supported, so remove this.
  
  * **Note:** Even though GLib itself installs fine with Clang 16 (in cpe 23.03), it looks like
    using its header files causes problems reporting type cast errors that 
    seem impossible to turn off.
    
  * Building with cpeGNU using the compiler wrappers didn't work anymore. 
    It appears something in the options processing
    has changed (the C compiler is different), and the build fails when processing `gio/tests/test5.gresource`.
    The build procedure complains that it cannot find certain standard system libraries 
    that are certainly there. The command line generated by the build process does add a 
    `-nostdlib` to avoid trying to include those libraries, but the CPE compiler wrapper
    then adds them again.
    
    The solution for now was to force meson to not use the wrappers.


### End of guaranteed support on LUMI

For now, we can no longer support GLib in the LUMI software stacks and software that depends upon it.
There are simply too many issues.

  * There is the typing issue with Clang 16 and higher which is likely due to sloppy 
    typing in the GLib code.
    
  * GLib does not build anymore with cpeGNU/23.12. It appears something in the options processing
    has changed (the C compiler is different), and the build fails when processing `gio/tests/test5.gresource`.
    The build procedure complains that it cannot find certain standard system libraries 
    that are certainly there. The command line generated by the build process does add a 
    `-nostdlib` to avoid trying to include those libraries, but the CPE compiler wrapper
    then adds them again.
    
    We've tried playing with several flags in `gio/tests/meson.build` but to no avail.
